project = "hugo"

[go_settings]
    go_proxy = "https://proxy.golang.org"
    go_exe   = "go"

[build_settings]
    binary  = "hugo"
    flags   = ["-buildmode", "exe"]
    env     = ["CGO_ENABLED=0"]
    ldflags = "-s -w -X github.com/gohugoio/hugo/common/hugo.vendorInfo=gohugoio"

[archive_settings]
    name_template = "{{ .Project }}_{{ .Tag | trimPrefix `v` }}_{{ .Goos }}-{{ .Goarch }}"
    extra_files   = [{ source_path = "README.md", target_path = "meta/README.md" }, { source_path = "LICENSE", target_path = "LICENSE" }]
    [archive_settings.type]
        format    = "tar.gz"
        extension = ".tar.gz"
    [archive_settings.replacements]
        amd64   = "64bit"
        386     = "32bit"
        arm64   = "ARM64"
        darwin  = "macOS"
        windows = "Windows"

[[builds]]
    path = "main/base"

    [builds.build_settings]
        goarm = "7"

    [[builds.os]]
        goos = "darwin"
        [[builds.os.archs]]
            goarch = "amd64"
        [[builds.os.archs]]
            goarch = "arm64"

    [[builds.os]]
        goos = "linux"
        [[builds.os.archs]]
            goarch = "amd64"
        [[builds.os.archs]]
            goarch = "arm"

    [[builds.os]]
        goos = "windows"
        [builds.os.build_settings]
            binary = "hugo.exe"
        [[builds.os.archs]]
            goarch = "amd64"

[[archives]]
    paths = "/builds/**/{darwin,linux}/amd64"
    [archives.archive_settings]
[[archives]]
    paths = "/builds/**/windows/*"
    [archives.archive_settings]
        [archives.archive_settings.type]
            format    = "zip"
            extension = "zip"
